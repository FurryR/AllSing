class _2935
{
	static _2936;
	static _2937;
	static _1029()
	{
		this._2936 = Segmentit.useDefault(new Segmentit.Segment());
		
		let _1240;
		if (window.location.href.indexOf("_303") != -1)
			_1240 = "/_308/kuromoji/"; 
		else
			_1240 = "/_303/_308/kuromoji/";
		kuromoji.builder({ dicPath: _1240 }).build(function (_2938, _2939)
		{
			_2935._2937 = _2939;
			if (typeof (_849) != "undefined" && _849._1190)
				_849._1190();
		});
	}
	static _2940(_2941, _2942)
	{
		let _2943;
		_2943 = _2941.length;
		_2941.length += _2942.length;
		for (let _1656 = 0; _1656 < _2942.length; _1656++)
		{
			let _333;
			_333 = new _2944();
			_2941[_2943+_1656] = _333;
			let _1227;
			_1227 = _2942[_1656];
			if (_1227 == L('，') || _1227 == L('。'))
			{
				_333._1640 = _1227;
				_333._1642 = _1227;
				_333._1622 = true;
			}
			else if (_1625._1678(_1227))
			{
				let _2945;
				_2945 = new Array();
				_2935._2946(_2945, _1227)
				_333._2314(_2945[0]);
			}
		}
		
		{
			
			
			let _1529;
			_1529 = _576.convertToPinyinStringArray(_2942);
			for (let _2947 = 0; _2947 < _1529.length; _2947++)
			{
				let _303;
				_303 = _1529[_2947];
				let _1569;
				_1569 = _303.pinyin;
				let _2060;
				_2060 = _303.old_string_index;
				let _2061;
				_2061 = _2941[_2943 + _2060];
				_2061._1623 = _1569;
				let _1227;
				_1227 = _2942[_2060];
				_1557._1626(_2061,_1569);
				_2061._1640 = _1227;
				_2061._1642 = _1227;
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
			}
		}
		{
			function _2948(_893, _2949)
			{
				
				
				let _2950 = _2935._2936.doSegment(_893);
				let _2951;
				_2951 = "";
				for (let _2952 = 0; _2952 < _2950.length; _2952++)
					_2951 += _2950[_2952].w;
				if (_893 != _2951)
					console.assert(0);
				let _2953;
				_2953 = 0;
				for (let _2952 = 0; _2952 < _2950.length; _2952++)
				{
					let _2954;
					_2954 = _2950[_2952].w;
					_2953 += _2954.length;
					let _2061;
					_2061 = _2941[_2943+_2949 + _2953 - 1];
					_2061._2955 = true;
				}
			}
			let _893;
			_893 = "";
			let _2949;
			_2949 = 0;
			for (let _754 = 0; _754 < _2942.length; _754++)
			{
				let _1227;
				_1227 = _2942[_754];
				if (_1227 == ',' || _1227 == '.' || _1227 == L('。') || _1227 == L('，'))
				{
					if (_893)
						_2948(_893, _2949);
					_893 = "";
					_2949 = _754 + 1;
				}
				else
					_893 += _1227;
			}
			if (_893)
				_2948(_893, _2949);
		}
		
		for (let _754 = _2943; _754 < _2941.length; _754++)
		{
			let _358 = _2941[_754];
			if (!_358._1642)
			{
				_2941.splice(_754,1);
				_754--;
            }
		}
	}
	static _2946(_2941, _2942)
	{
		let _2956;
		_2956 = _2935._2937.tokenize(_2942);
		for (let _2957 = 0; _2957 < _2956.length; _2957++)
		{
			let _2958;
			_2958 = _2956[_2957];
			
			
			let _2959;
			_2959 = _2958.surface_form;
			let _2960;
			
			
			
			_2960 = _2958.pronunciation;
			
			if (!_2960)
			{
				if (_1625._1678(_2959))
					_2960 = _1625._2961(_2959);
				else
					continue;
			}
			let _1529;
			_1529 = _1625._1626(_2960);
			for (let _1656 = 0; _1656 < _1529.length; _1656++)
			{
				let _1624;
				_1624 = _1529[_1656];
				let _2962;
				_2962 = new _2944();
				_2941.push(_2962);
				_2962._1623 = _2960.substring(_1624._1370, _1624._2457 +1);
				_1625._1627(_2962, _1624, _1656 == 0);
				_2962._1640 = _2960.substring(_1624._1370, _1624._2457 + 1);
				if (_1625._2963(_2959))
				{
					if (_1656 == 0)
					{
						if (_1529.length >= 2)
							_2962._1641 = "[" + _2959;
						else
							_2962._1641 = _2959;
					}
					else if (_1529.length >= 2 && _1656 == _1529.length - 1)
						_2962._1641 = "]";
				}
				_2962._1642 = _2959;
				_2962._1643 = _1656;
				
				_2962._2955 = (_1656 == _1529.length - 1);
			}
		}
	}
	static _2964(_2941, _2942)
	{
		let _2965=new Array();
		_2966._1626(_2965, _2942);
		for (let _754 = 0; _754 < _2965.length; _754++)
		{
			let _1638;
			_1638 = new _2944();
			_2941.push(_1638);
			let _359;
			_359 = _1638._2967;
			let _2968;
			_2968 = _2965[_754];
			_1638._1623 = _2942[_2968._754];
			if (_2968._1663 == "")
			{
				_1638._1622 = true;
			}
			else
			{
				let _2969;
				_2969 = _2968._2969;
				_1638._1623 = _2969;
				let _2970;
				_2970 = _2969[_2969.length - 1];
				if ('0' <= _2970 && _2970 <= '9')
					_2969 = _581._1221(_2969, _2969.length - 1);
				_2966._2971(_1638,_2969);
				
				
				if (_1638._1674 == 'n' || _1638._1674 == 'ŋ')
					_359._2972 = _2973._2974;
            }
			_1638._1640 = _2942[_2968._754];
			_1638._1642 = _2942[_2968._754];
			_1638._2955 = _2968._2975;
		}
	}
	static _1626(_2941,_2976, _2977)
	{
		_2941.length = 0;

		
		_2976 = _2976.replace(L(/✾/g), "*");
		_2976 = _2976.replace(/^⌒+/g,"")
		_2976 = _2976.replace(/\s+/g, " ")
		
		_2976 = _2976.replace(L(/,⌒/g), ",");
		_2976 = _2976.replace(L(/，⌒/g), L("，"));
		_2976 = _2976.replace(L(/\.⌒/g), ".");
		_2976 = _2976.replace(L(/。⌒/g), L("。"));
		
		_2976 = _2976.replace(L(/[\"\<\>\!\@\#\$\%\^\&\*\\\?\~\`]/g), "");
		
		
		
		_2976 = _2976.replace(L(/[！？《》〈〉“”‘’【】『』「」（）]/g), "");

		
		let _2978;
		_2978 = _2976;
		_2976 = _2976.replace(L(/⌒/g), "");

		
		
		let _2979 = new Array();
		for (let _2980 = 0; _2980 < _2976.length; _2980++)
		{
			let _1227;
			_1227 = _2976[_2980];
			if (_2979.length == 0)
			{
				_2979.push(_1227);
				continue;
			}
			let _2981;
			_2981 = _2982._2983(_2979[_2979.length - 1]);
			if (_2981)
			{
				if (_1227 == L("。"))
					_1227 = ".";
				else if (_1227 == L("，"))
					_1227 = ",";
				else if (_1227 == L("、"))
					_1227 = ",";
			}
			else
			{
				if (_1227 == L("."))
					_1227 = "_7748";
				else if (_1227 == L(","))
				{
					if (_2977 == "japanese")
						_1227 = L("、");
					else
						_1227 = L("，");
				}
			}
			if (_2981 != _2982._2983(_1227))
				_2979.push(_1227);
			else
				_2979[_2979.length - 1] += _1227;
		}

		
		for (let _2984 = 0; _2984 < _2979.length; _2984++)
		{
			let _2942 = _2979[_2984];
			if (_2982._2983(_2942))
			{
				_1571._2985(_2941, _2942);
			}
			else if (_2977 == "chinese")
			{
				this._2940(_2941, _2942);
			}
			else if (_2977 == "japanese")
			{
				this._2946(_2941, _2942);
			}
			else if (_2977 == "cantonese")
			{
				this._2964(_2941, _2942);
			}
		}

		
		
		
		for (let _2986 = 0; _2986 < _2941.length; _2986++)
		{
			if (!_2944._2987(_2941, _2986))
				continue;
			let _2988;
			_2988 = _2941[_2986];
			if (_2988._1645 != 0)
				continue;
			let _2989;
			_2989 = 1;
			for (let _2990 = 0; _2990 < _2941.length; _2990++)
			{
				if (!_2944._2987(_2941, _2990))
					continue;
				let _2991;
				_2991 = _2941[_2990];
				if (_2991._1642 == _2988._1642)
				{
					_2991._1645 = _2989;
					_2989++;
				}
			}
		}		
		
		
		for (let _2992 = _2941.length-1; _2992 >=1 ; _2992--)
		{
			if (!_2944._2987(_2941, _2992))
				continue;
			let _2993;
			_2993 = _2941[_2992];
			if (_2993._1645 == 0)
				continue;
			let _2989;
			_2989 = 1;
			for (_2992--; _2992 >= 0; _2992--, _2989++)
			{
				let _1638;
				_1638 = _2941[_2992];
				if (!(_2993._1642 == _1638._1642 && _2993._1643 == _1638._1643 + _2989))
				{
					_2992++;
					break;
				}
				_1638._1645 = _2993._1645;
            }
		}

		
		{
			
			let _2994 = new Array();
			
			
			
			let _2995;
			_2995 = "";
			for (let _2996 = 0; _2996 < _2978.length; _2996++)
			{
				let _1227;
				_1227 = _2978[_2996];
				if (_1227 == L("，") && _1227 == L("。") && _1227 == L("、") && _1227 == "." && _1227 == "," || _1227 == " ")
					continue;
				if (_1227 == L("⌒"))
				{
					_2994.push(_2995);
					continue;
				}
				_2995 += _1227;
			}

			
			
			
			let _2997;
			_2997 = "";
			let _2998;
			_2998 = -1;
			let _2999;
			_2999 = "";
			for (let _2992 = 0; _2992 < _2941.length; _2992++)
			{
				let _358;
				_358 = _2941[_2992];
				if (!_2944._2987(_2941, _2992))
					continue;
				let _2958;
				_2958 = _358._1642;
				if (_2958 == L("，") && _2958 == L("。") && _2958 == L("、") && _2958 == "." && _2958 == "," || _2958 == " ")
					continue;
				_2997 += _2958;

				for (let _3000 = 0; _3000 < _2994.length; _3000++)
				{
					let _2995 = _2994[_3000];
					if (_2995.length <= _2997.length)
					{
						let _3001;
						_3001 = _581._761(_2998, _2992, _2999.length, _2997.length, _2995.length)
						_3001 = Math.round(_3001);
						_2941[_3001]._3002++;
						_2994.splice(_3000, 1);
						_3000--;
					}
				}

				_2998 = _2992;
				_2999 = _2997;
			}
        }

		
		let _3003;
		_3003 = "";
		
		let _3004;
		_3004 = "";
		for (let _2992 = 0; _2992 < _2941.length; _2992++)
		{
			let _358;
			_358 = _2941[_2992];
			if (_358._1643 != 0)
				continue;
			_358._1644 = _3003.length;
			let _2958;
			_2958 = _358._1642;
			if (_2992 != 0)
				if ((!_2982._2983(_3004)) && (_2982._2983(_2958)))
					_3003 += " ";
			_3003 += _2958;
			if (_2982._2983(_2958))
				_3003 += " ";
		}
		
		let _3005;
		[_3003, _3005] = _2982._3006(_3003);
		if (_3005 >= 0)
		{
			
			for (let _2992 = 0; _2992 < _2941.length; _2992++)
			{
				let _358;
				_358 = _2941[_2992];
				if (_358._1644 >= _3005)
					_358._1644--;
			}
		}
		return _3003;
	}
	
	
	static _3007(_2056, _3008, _3009)
	{
		let _2958;
		_2958 = _3008[0]._1642;
		if (_2958.length == 1)
			return _2056 + L("⌒");
		if (!_581._1220(_2056, _2958))
			console.assert(0);
		_2056 = _581._1221(_2056, _2056.length - _2958.length);
		let _3010, _3011;
		_3010 = 0;
		for (let _1656 = 0; _1656 < _3008.length; _1656++)
			_3010 += _3008[_1656]._1640.length;
		_3011 = 0;
		for (let _1656 = 0; _1656 < _3009.length; _1656++)
			_3011 += _3009[_1656]._1640.length;
		let _3012;
		_3012=_2958.length * _3010 / (_3010 + _3011);
		_3012 = Math.round(_3012);
		_2056 += _581._1221(_2958, _3012);
		_2056 += L("⌒");
		_2056 += _581._1344(_2958, _2958.length - _3012);
		return _2056;
	}
}
_2935._1029();

