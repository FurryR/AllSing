function _366(_1775, _754, _5368, _1772)
{
    let _305 = _1775[_754];
    let _5910 = _305._3022;
    let _5367;
    _5367 = "";

    let _5911 = _5855(_1775, _754);
    if (_5911 == null)
        return _5367;
    let _365 = _5911._5845;
    if (_365 == null)
        _365 = _5911._5846;
    let _5912;
    _5912 = _5911._1611;
    let _5913;
    if (_5911._5851)
        _5913 = _1775[_754 - 1];
    else
        _5913 = _305;
    let _5914;
    _5914 = _5913._3017;
    let _5915, _5916;
    _5915 = _5913._3030;
    _5916 = _5913._3032;
    let _5917;
    _5917 = _5916 - _5915 + 1;
    let _5835, _5918, _5919;
    _5835 = _5915;
    _5919 = _5426(_5912);
    _5918 = _5835 + _5919 - 1;
    
    function _5920(_5921)
    {
        let x;
        x = _581._761(0, _5917 - 1, 0, 1, _5921);
        return x;
    }
    function _5922(_5923)
    {
        _987 = 1 + (_5336 - 2) * (1 - _5923);
        return _987;
    }
    function _5924(_5531)
    {
        switch (_5531)
        {
            case "_2299": return _5835;
            case "_2459": case "_7838": case "_7837":
                if (_5911._5853 || _5911._5854)
                    console.assert(0);
                return _5835 + _365._5558 * _5919;
            case "_1192": return _5918;
        }
    }
    function _5925(_5531)
    {
        if (_5911._5853)
            if (_5531 == "_1192")
                return "_7838";
        if (_5911._5854)
            if (_5531 == "_2299")
                return "_7837";
        return _5531;
    }
    function _5926(_5531)
    {
        return _365._5840(_5925(_5531));
    }
    function _5927(_5531)
    {
        return _365._5842(_5925(_5531));
    }
    function _5928(_5531)
    {
        let x, y;
        x = _5924(_5531);
        y = _5926(_5531)[1];
        y = _5368 + _5922(y);
        return [x, y];
    }
    function _5929(_5531, _5532)
    {
        let x, y;
        [x, y] = _5928(_5531);
        y = _5930(y, x);
        let _1929;
        if (_5532 == "_7834")
            _1929 = "cursor:ew-resize;";
        if (_5532 == "_7835")
            _1929 = "cursor:ns-resize;";
        if (_5532 == "_7836")
            _1929 = "cursor:move;";
        let _5931;
        _5931 = _754;
        if (_5911._5852)
            _5931++;
        let _5533;
        if (_5911._5853 || _5911._5854)
            _5533 = "true";
        else
            _5533 = "false";
        _5367 += "<circle cx='" + x + "' cy='" + y + "' r='4' style='fill:rgb(130 10 255 /0.1); stroke:rgb(130 10 255 /0.4); stroke-width:1; " + _1929 + " ' onmousedown='_5530(" + _5931 + ",\"" + _5925(_5531) + "\",\"" + _5532 + "\"," + _5912 + "," + _5533 + ");' />\r\n";
    }
    function _5932(_5531)
    {
        let _690, _539;
        [_690, _539] = _5928(_5531);
        _539 = _5930(_539, _690);
        let _5933;
        _5933 = _5926(_5531)[1];
        let _711, _712;
        [_711, _712] = _5927(_5531);
        let _5533;
        if (_5911._5853 || _5911._5854)
        {
            _5533 = "true";
            _711 *= 2;
        }
        else
            _5533 = "false";
        _711 *= _5912;
        _711 /= _5914;
        _711 = _5920(_711);
        _712 = _5922(_5933 + _712) - _5922(_5933);
        let _5931;
        _5931 = _754;
        if (_5911._5852)
            _5931++;
        _5367 += "<line x1='" + _690 + "' y1='" + _539 + "' x2='" + (_690 + _711) + "' y2='" + (_539 + _712) + "' style='stroke:rgb(0 0 0 / 0.25);stroke-width:1' />\r\n";
        _5367 += "<rect x='" + (_690 + _711 - 2) + "' y='" + (_539 + _712 - 2) + "' width='5' height='5' style='fill:rgb( 0 0 0 / 0.05 ); stroke:rgb(0 0 0 /0.3); stroke-width:1; cursor:move;'   onmousedown='_5550(" + _5931 + ",\"" + _5925(_5531) + "\"," + _5912 + "," + _5533 + ");'       />\r\n";
    }
    



    
    let _5934, _5935;
    let _5936, _5937;
    let _5938, _5939;
    let _5940;
    _5934 = _5835;
    _5935 = _5918;
    _5936 = _5368 + _5922(0);
    if (_1665._5010(_305._1784))
    {
        _5937 = _5368 + _5922(_305._3015);
        _5940 = true;
    }
    else
    {
        _5937 = _5936;
        _5940 = false;
    }
    _5938 = _5936 - _5936;
    _5939 = _5937 - _5936;
    function _5930(y,x)
    {
        if (!_5940)
            return y;
        return y + _581._761(_5939, _5938, _5934, _5935, x);
    }




    
    if (_754 == _1775.length - 1 && _305._3037 && _305._3022 != "浊辅音前声带音")
    {
        if (_305._3022 != "浊辅音" && _305._3022 != "普通声带音")
            console.assert(0);
        _5367 += "<line x1='" + _305._3030 + "' y1='" + _5930((_5368 + 1), _305._3030) + "' x2='" + _305._3032 + "' y2='" + _5930(_5368 + 1, _305._3032) + "' style='stroke:rgb(150,50,10);stroke-width:1' />\r\n";
    }
    else
    {
        let _5941;
        _5941 = _5942._1626(_5322, _754, _1772._3055, _1772._3057);
        if (_5941)
        {
            for (let _5943 = 0; _5943 < 2; _5943++)
            {
                
                let _5944;
                _5944 = true;
                function _5945(x, y)
                {
                    if (_5944)
                    {
                        _5944 = false;
                        _5367 += "M ";
                    }
                    else
                    {
                        _5367 += "L  ";
                    }
                    _5367 += x + " " + y + " ";
                }
                let _5381;
                if (_5943 == 0)
                    _5381 = "rgb(150,50,10)";
                else
                    _5381 = "rgb(50,10,200)";
                let _751, _752, _5946;
                if (_5943 == 0)
                {
                    _751 = _5941._5947;
                    _752 = _5941._5948;
                    _5946 = _5941._5949;
                    if (_5910 == "浊辅音前声带音")
                        _5381 = "rgb(20,100,20)";
                }
                else
                {
                    _751 = _5941._5950;
                    _752 = _5941._5951;
                    _5946 = _5941._5952;
                }
                if (_5946 == null)
                    continue;
                _5367 += '<path d="';
                let _5953;
                _5953 = Math.max(0, _751);
                let _5954;
                _5954 = _752;
                for (let x = _5953; x <= _5954; x++)
                {
                    let _984;
                    _984 = _5946[x - _751];
                    let y;
                    y = 1 + (_5336 - 2) * (1 - _984);
                    _5945(x, _5930(_5368 + y, x));
                }
                _5367 += '" stroke="' + _5381 + '" stroke-width="1" fill="none" />\r\n';
            }
        }
    }
    


    
    if ((!_305._3036) &&(_5911._5845 || _5911._5846))
    {
        let _5955;
        if (_5919 < 80)
        {
            _5955 = true;
            let x, y;
            x = (_5835 + _5918)/2;
            y = _5368 + 8;
            let _5422, _5423;
            _5422 = _5828(_5835);
            _5423 = _5828(_5835 + _5919);
            
            _5367 += "<line x1='" + (x - 5) + "' y1='" + y + "' x2='" + (x + 5) + "' y2='" + y + "' style='stroke:rgb(100 100 170 /0.8);stroke-width:1' />\r\n";
            _5367 += "<line x1='" + x + "' y1='" + (y - 5) + "' x2='" + x + "' y2='" + (y + 5) + "' style='stroke:rgb(100 100 170 /0.8);stroke-width:1' />\r\n";
            _5367 += "<circle cx='" + x + "' cy='" + y + "' r='5' style='fill:rgb(100 100 170 /0.1); stroke:rgb(100 100 170 /0.8); stroke-width:1; cursor:zoom-in;' onmouseup='_5421(" + _5422 + "," + _5423 + ");'  onmouseover =\"_218('" + L("放大显示，编辑包络曲线形状\\r\\n放大后，可在窗口右下角关闭放大功能") + "');\" />\r\n";
        }
        else
            _5955 = false;
        
        if ((!_5955)&&_5911._5847)
        {                
            function _5956(_5957, _1962)
            {
                let x;
                x = (_5835 + _5918) / 2;
                x += _5957;
                let y;
                y = (_5368 + 10 - 4);
                _5367 += "<rect x='" + (x - 4) + "' y='" + y + "' width='8' height='8' style='fill:rgb( 0 0 255 / 0.05 ); stroke:rgb(0 0 255 /0.7); stroke-width:1; cursor:n-resize;'  onmouseover =\"_218('" + _1962 + "');\" onmousedown='_5503(" + _754 + ");'       />\r\n";
            }
            if (_305._3042())
                _5956(0, L("调节浊辅音前声带音音量"));
            if (_5911._5845 && _5911._5846)
            {
                console.assert(0);
                _5956(-5, L("调节清擦音部分的音量"));
                _5956(5, L("调节声带音部分的音量"));
            }
            else if (_5911._5845)
                _5956(0, L("调节清擦音部分的音量"));
            else if (_5911._5846)
                _5956(0, L("调节声带音部分的音量"));
        }
        
        
        if (!_5955)
        {
            _5932("_2299");

            if ((!_5911._5853) && (!_5911._5854))
            {
                if (_305._3041())
                    _5929("_2459", "_7835");
                else
                    _5929("_2459", "_7836");
                _5932("_7838");
                _5932("_7837");
            }
            if (_305._3041() || _5910 =="_7755")
                _5929("_2299", "_7835");

            _5932("_1192");
        }
        
        
        if (_5911._5848)
        {
            if (_5910 == "浊辅音前声带音")
            {
                let _5958;
                _5958 = new _5832();
                _5343.push(_5958);
                _5958._5834 = _754;
                _5958._5835 = _5835;
                _5958._5521 = _5911._5849;
                _5958._5522 = _5911._5850;
                let x, y;
                x = _5958._5839();
                y = _5368 + _5336 - 3;
                y = _5930(y, x);
                _5367 += "<circle cx='" + x + "' cy='" + y + "' r='5' style='fill:rgb(0 0 255 /0.1); stroke:rgb(0 180 0 /0.3); stroke-width:1; cursor: ew-resize;' onmousedown='_5513(" + (_5343.length - 1) + ");' />\r\n";
            }
            else
            {
                let _5959;
                _5959 = new _5832();
                _5343.push(_5959);
                _5959._5833 = _754;
                _5959._5835 = _5835;
                _5959._5521 = _5911._5849;
                _5959._5522 = _5911._5850;
                let x, y;
                x = _5959._5839();
                y = _5368 + _5336 - 3;
                y = _5930(y, x);
                _5367 += "<circle cx='" + x + "' cy='" + y + "' r='5' style='fill:rgb(0 0 255 /0.1); stroke:rgb(0 0 255 /0.3); stroke-width:1; cursor: ew-resize;' onmousedown='_5513(" + (_5343.length - 1) + ");' />\r\n";
            }
        }
        

        
        if ((!_5955) && _5940)
        {
            _5367 += "<line x1='" + _5934 + "' y1='" + _5937 + "' x2='" + _5935 + "' y2='" + _5936 + "' style='stroke:rgb(70 180 70 / 0.8);stroke-width:1' />\r\n";
            _5367 += "<circle cx='" + _5934 + "' cy='" + _5937 + "' r='6' style='fill:rgb(0 0 255 /0.1); stroke:rgb(0 190 0 /0.7); stroke-width:1; cursor: s-resize;' onmousedown='_5566(" + _754 + ");' />\r\n";
        }
        
    }
    

    return _5367;
}
