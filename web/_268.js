class _595
{
	static _6663(_6664, _6665, _1578)
	
	
	
	
	
	{
		let _6666;
		_6666 = new Array();

		let length;
		length = _6664.length;
		if (length <= 0)
			return null;

		let _6667;
		_6667 = _6664[_1578];
		let _6668;
		_6668 = _6667._1635;

		var _2219;
		if (_6665=="count_last_beat")
		{
			let _6669;
			_6669 = 0;
			for (let _754 = 0; _754 < _6664.length; _754++)
				if (_6664[_754]._5992._2319)
					_6669++;
			if (_6669)
			{
				_2219 = 1;
				for (let _754 = _1578 - 1; _754 >= 0; _754--)
				{
					if (_6664[_754]._5992._2319)
						break;
					_2219++;
				}
			}
			else
			{
				_2219 = 1;
				for (let _754 = _1578 - 1; _754 >= 0; _754--)
				{
					if (_6664[_754]._6068 > _6664[_754 + 1]._6068)
						break;
					_2219++;
				}
			}
		}
		else if (_6665 =="count_half_quarter")
		{
			_2219 = Math.ceil(_6668 / 0.5);
		}
		else
		{
			if (_6665=="count_2")
				_2219 = 2;
			else if (_6665=="count_3")
				_2219 = 3;
			else if (_6665=="count_4")
				_2219 = 4;
			else
				return null;
		}
		if (_2219 > _1578 + 1)
			_2219 = _1578 + 1;
		if (_2219 < 2)
			_2219 = 2;
		let _6670;
		_6670 = _1578 + 1;
		if (_2219 > _6670)
			_2219 = _6670;
		if (_2219 <= 1)
			return null;
		_6666.length = _2219;
		let _6671;
		_6671 = 0;
		for (let _570 = 0; _570 < _2219; _570++)
		{
			let _798;
			_798 = _6664[_1578 - (_2219 - 1) + _570];
			let _794;
			_794 = new Object();
			_794._1292 = _798._1634;
			_794._1292 += 24;
			_794._6068 = _798._1635;
			_6666[_570] = _794;
			if (_570 != _2219 - 1)
				_6671 += _794._6068;
		}
		if (_6671 == 0)
			return null;
		_6666[_6666.length - 1]._6068 = _6671 / (_6666.length);
		_6671 += _6666[_6666.length - 1]._6068;
		let _6672;
		_6672 = _6668;
		_6672 *= _2219;
		_6672 /= (_2219 + 1);
		let _6673;
		_6673 = _6672 / _6671;
		for (let _635 = 0; _635 < _2219; _635++)
			_6666[_635]._6068 *= _6673;
		return _6666;
	}
	static _6674(_6664, _1578, _875)
	{
		
		
		let _6667;
		_6667 = _6664[_1578];
		let _6675;
		_6675 = _6667._1634;
		let _6668;
		_6668 = _6667._1635;
		let _2219;
		_2219 = _6668 / 0.5;
		if (_2219 < 6)
			_2219 = 6;
		else if (_2219 > 10)
			_2219 = 10;
		let _6676;
		if (_1578 + 1 < _6664.length)
			_6676 = _6664[_1578 + 1];
		else if (_875 + 1 < _585.length)
		{
			let _1936;
			_1936 = _585[_875 + 1];
			if (_1936.length)
				_6676 = _6677[0];
		}
		let _6678;
		if (_6676)
			_6678 = _6676._1634;
		else
			_6678 = _6675 + _2219 - 1;
		let _6679, _6680;
		_6679 = _6668;
		_6680 = _6678;
		let _6681;
		_6681 = new Array(_2219);
		for (let _570 = 0; _570 < _2219; _570++)
		{
			let _794;
			_794 = new Object();
			_794._1292 = Math.floor(_6679 + (_6680 - _6679) * _570 / (_2219 - 1));
			_794._6068 = _6668 / (_2219 + 1);
			_6681[_570] = _794;
		}
		return _6681;
    }
	static _1626(_875)
	{
		let _938 = new _1296();
		let _6295;
		_6295=_585[_875];
		let _939, _145;
		_939=_6295._920;
		_145 = _6295._1158;
		_938._1029(_145);
		let _6664;
		_6664 = _6295._1164;
		
		
		let _6682, _6683;
		_6682 = _6683 = 0;
		let _6684;
		for (let _979 = 0; _979 < 2; _979++)
		{
			function _1290(_1291, _1292, _1293, _1294, _1295)
			{
				if (_979 == 0)
				{
					if (_1295 < _6682)
						_6682 = _1295;
					let _2351;
					_2351 = _1295 + _1293;
					if (_2351 > _6683)
						_6683 = _2351;
				}
				else
				{
					_938._1290(_1291, _1292, _1293, _1294, _1295 - _6682);
                }
			}
			_6684 = 0;
			for (let _1578 = 0; _1578 < _6664.length; _1578++)
			{
				let _6685;
				_6685 = _6664[_1578];
				let _6567 = _6685._6527;
				let _6686;
				_6686 = _6685._1635;
				let _6687, _6688;
				_6687 = _6684;
				_6688 = _6684 + _6686;
				for (let _6568 = 0; _6568 < _6567.length; _6568++)
				{
					let _603;
					_603 = _6567[_6568];
					let _443 = _36.contentWindow._602(_603);
					if (!_443)
						continue;
					
					
					
					
					
					
					
					
					let _3289;
					_3289 = _443._391;
					_3289 = _3289.replace(/echo_count_/g, "count_");
					_3289 = _3289.replace(/long_duration_count_/g, "count_");
					if (_3289 == "musica_before_climax_auto_generate")
						_3289 = "climax_auto_generate";
					let _6153 = _443._6153;
					if (_3289 != "user_edit")
					{
						let _6689;
						if (_3289 == "climax_auto_generate")
							_6689 = _595._6674(_6664, _1578, _875);
						else
							_6689 = _595._6663(_6664, _3289, _1578);
						if (_6689 == null)
							continue;
						let _6690;
						if (_6153 == "left")
						{
							_6690 = _6687;
						}
						else
						{
							_6690 = _6688;
							for (let _1578 = 0; _1578 < _6689.length; _1578++)
								_6690 -=_6689[_1578]._6068;
						}
						let _6290;
						_6290 = 0;
						for (let _1578 = 0; _1578 < _6689.length; _1578++)
						{
							let _455;
							_455 = _6689[_1578];
							_1290(_443._6151, _455._1292 + _939 - 0x3c, _455._6068, _443._6152, _6690 + _6290);
							_6290 += _455._6068;
						}
					}
					else
					{
						let _6150 = _443._6150;
						let _6147 = _443._6150._6147;
						let _6690;
						if (_6153 == "left")
						{
							_6690 = _6687;
							_6690 -= _6147;
						}
						else
						{
							
							_6690 = _6688;
							_6690 -= _6147;
						}
						let _6190;
						_6190 = _6150._1291;
						let _6689;
						_6689 = _6150._1681;
						for (let _1578 = 0; _1578 < _6689.length; _1578++)
						{
							let _455;
							_455 = _6689[_1578];
							let _1291;
							_1291 = _6190[_455._6139];
							_1290(_1291, _455._2188, _455._1607, _455._6140, _6690 + _455._2299);
						}
					}
				}
				_6684 = _6688;
			}
		}
		
		_938._1014 = _6684;
		_938._1297 = -_6682;
		_938._1298 = _6684 - _6683;
		return _938;
	}
	static _1759(_6132)
	{
		_36.contentWindow._1759(_6132);
	}
	static _1764(_6133)
	{
		_36.contentWindow._1764(_6133);
	}
	static _1208()
	{
		_36.contentWindow._1208();
	}
	static _866()
	{
		_36.contentWindow._866();
	}
	static _590()
	{
		return _36.contentWindow._590();
	}
	static _587(_893)
	{
		return _36.contentWindow._587(_893);
	}

	static _1162()
	{
		_36.contentWindow._1162();
	}
	static _597(_620)
	{
		_36.contentWindow._597(_620);
	}
}

