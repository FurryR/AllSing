class _6138
{
	
	
	
	_6139 = 0;
	
	
	
	_2188=0x3c;
	_2299=0;
	_1607=0.5;
	_6140=1;
	_2314(_6141)
	{
		this._6139=_6141._6139;
		this._2188=_6141._2188;
		this._2299=_6141._2299;
		this._1607=_6141._1607;
		this._6140=_6141._6140;
	}
	static _3059(_1102,_1103)
	{
		_1102.length=_1103.length;
		for(let _754=0;_754<_1102.length;_754++)
		{
			if(typeof (_1102[_754])=="undefined")
				_1102[_754]=new _6138();
			_1102[_754]._2314(_1103[_754]);
		}
	}
	static _6142(_1236)
	{
		let _301;
		_301=0;
		for(let _754=0;_754<_1236.length;_754++)
		{
			let _455;
			_455=_1236[_754];
			let _6143;
			_6143=_455._2299+_455._1607;
			if(_6143>_301)
				_301=_6143;
		}
		return _301;
	}
	_590(_985,_6144)
	{
		_985[_6144+"_instrument_index"]=this._6139;
		_985[_6144+"_pitch"]=this._2188;
		_985[_6144+"_start"]=this._2299;
		_985[_6144+"_duration"]=this._1607;
		_985[_6144+"_strength"]=this._6140;
	}
	_587(_6144,_985)
	{
		this._6139=_985[_6144+"_instrument_index"];
		if(typeof(this._6139)=="undefined")
			this._6139=0;
		else
			this._6139=parseInt(this._6139);
		this._2188=_985[_6144+"_pitch"];
		if(typeof (this._2188)=="undefined")
			this._2188=0x3c;
		else
			this._2188=parseInt(this._2188);
		this._2299=_985[_6144+"_start"];
		if(typeof (this._2299)=="undefined")
			this._2299=0;
		else
			this._2299=parseFloat(this._2299);
		this._1607=_985[_6144+"_duration"];
		if(typeof (this._1607)=="undefined")
			this._1607=0;
		else
			this._1607=parseFloat(this._1607);
		this._6140=_985[_6144+"_strength"];
		if(typeof (this._6140)=="undefined")
			this._6140=0;
		else
			this._6140=parseFloat(this._6140);
	}
};
class _6145
{
	static _6146=8;
	_1291 = new Array(_6145._6146);
	constructor()
	{
		for(let _754=0;_754<_6145._6146;_754++)
			this._1291[_754]="0";
	}
	_984=1;
	_6147 = 0;
	_1681=new Array();
	static _6148(_5381,_6139)
	{
		switch(_6139)
		{
			case 0: _5381._1365=255; _5381._1366=0; _5381._1367=0; break;
			case 1: _5381._1365=252; _5381._1366=156; _5381._1367=14; break;
			case 2: _5381._1365=124; _5381._1366=217; _5381._1367=0; break;
			case 3: _5381._1365=0; _5381._1366=208; _5381._1367=183; break;
			case 4: _5381._1365=66; _5381._1366=89; _5381._1367=253; break;
			case 5: _5381._1365=222; _5381._1366=6; _5381._1367=253; break;
			case 6: _5381._1365=128; _5381._1366=128; _5381._1367=128; break;
			case 7: _5381._1365=0; _5381._1366=0; _5381._1367=0; break;
			default: console.assert(0); break;
		}
	}
	_590(_985,_6144)
	{
		for(let _754=0;_754<this._1291.length;_754++)
			_985[_6144+"_instrument_"+_754]=this._1291[_754];
		_985[_6144+"_volume"]=this._984;
		_985[_6144 + "_align_point"] = this._6147;
		_985[_6144+"_music_sheet_length"]=this._1681.length;
		for(let _754=0;_754<this._1681.length;_754++)
			this._1681[_754]._590(_985,_6144+"_music_sheet_"+_754);
	}
	_587(_6144,_985)
	{
		for(let _754=0;_754<this._1291.length;_754++)
		{
			this._1291[_754]=_985[_6144+"_instrument_"+_754];
			if(typeof (this._1291[_754])=="undefined")
				this._1291[_754]="0";
		}
		this._984=_985[_6144+"_volume"];
		if(typeof (this._984)=="undefined")
			this._984=1;
		else
			this._984=parseFloat(this._984);


		this._6147 = _985[_6144 + "_align_point"];
		if (typeof (this._6147) == "undefined")
			this._6147 = 0;
		else
			this._6147 = parseFloat(this._6147);

		let length;
		length=_985[_6144+"_music_sheet_length"];
		if(typeof (length)=="undefined")
			length=0;
		else
			length=parseInt(length);
		this._1681.length=length;
		for(let _754=0;_754<this._1681.length;_754++)
		{
			if(!this._1681[_754])
				this._1681[_754]=new _6138();
			this._1681[_754]._587(_6144+"_music_sheet_"+_754,_985);
		}
	}
};
class _6149
{
	_391 ="user_edit";
	_6150=new _6145();
	_6151="0";
	_6152 = 1;
	_1232 = L("未命名");
	_5381 = "blue";
	_3289 = "";
	_6153 = "left";
	_590(_985,_6144)
	{
		_985[_6144+"_music_sheet_type"]=this._391;
		this._6150._590(_985,_6144+"_user_define");
		_985[_6144+"_echo_instrument"]=this._6151;
		_985[_6144 + "_echo_volume"] = this._6152;
		_985[_6144 + "_name"] = parent._1875()._625(this._1232);
		_985[_6144 + "_color"] = this._5381;
		_985[_6144 + "_type"] = this._3289;
		_985[_6144 + "_align"] = this._6153;
	}
	_587(_6144,_985)
	{
		this._391=_985[_6144+"_music_sheet_type"];
		if(!this._391)
			this._391 ="user_edit";
		this._6150._587(_6144+"_user_define",_985);
		this._6151=_985[_6144+"_echo_instrument"];
		if(typeof (this._6151)=="undefined")
			this._6151="0";
		this._6152=_985[_6144+"_echo_volume"];
		if(typeof (this._6152)=="undefined")
			this._6152=1;
		else
			this._6152=parseFloat(this._6152);

		this._1232 = _985[_6144 + "_name"];
		if (typeof (this._1232) == "undefined")
			this._1232 = L("未命名");
		else
			this._1232 = parent._1875()._626(this._1232);

		this._5381 = _985[_6144 + "_color"];
		if (typeof (this._5381) == "undefined")
			this._5381 = "blue";

		this._3289 = _985[_6144 + "_type"];
		if (typeof (this._3289) == "undefined")
			this._3289 = "";

		this._6153 = _985[_6144 + "_align"];
		if (typeof (this._6153) == "undefined")
			this._6153 = "left";
	}
	_6154()
	{
		let _824;
		_824 = "";
		_824 += "<span style='color:" + this._5381 + "; font-size:larger; cursor:pointer;' onclick=''> "+_581._1333(this._1232)+" </span>";
		_824 += L("：");
		switch(this._391)
		{
			case "user_edit":
				{
					let _1681;
					_1681 = this._6150._1681;
					if (_1681.length == 0)
					{
						_824 += L("（用户自定义，暂无数据）");
					}
					else
					{
						
						for (let _754 = 0; _754 < _1681.length; _754++)
						{
							let _455;
							_455 = _1681[_754];
							_824 += _1706._1712(_455._2188, "LETTER");
							_824 += " ";
						}
					}
				}
				break;
			case "_394": _824+=L("回音是最后一个节拍"); break;
			case "echo_count_half_quarter": _824+=L("回声长半拍，能放下几个放几个"); break;
			case "echo_count_2": _824+=L("重复最后两个音符");break;
			case "echo_count_3": _824+=L("重复最后三个音符"); break;
			case "echo_count_4": _824+=L("重复最后四个音符");break;
			case "_396": _824+=L("重复最后一个节拍"); break;
			case "long_duration_count_half_quarter": _824+=L("重复的音长半拍，能放下几个放几个");break;
			case "long_duration_count_2": _824+=L("重复刚过去的两个音符");break;
			case "long_duration_count_3": _824+=L("重复刚过去的三个音符");break;
			case "long_duration_count_4": _824+=L("重复刚过去的四个音符"); break;
			case "musica_before_climax_auto_generate": _824+=L("自动生成高潮前的音乐"); break;
		}
		_824 += "&nbsp";
		{
			if (this._6153 == "left")
				_824 += L("<span title='" + L("左对齐") + "'>←</span>");
			else
				_824 += L("<span title='" + L("右对齐") + "'>→</span>");
		}
		return _824;
	}
};
class _6134
{
	static _6155 = new Array();

	
	static _6135 = -1;
	static _6156=-1;

	static _6157 = 2;
	static _6158 = true;

	static _6159(_582)
	{
		if (_582)
		{
			_385.disabled = false;
			_386._967(true);
			_387.disabled = false;
			_388.disabled = false;
			_389.disabled = false;
			_390.disabled = false;
			let _6160;
			_6160 = document.body.getElementsByTagName("input");
			for (let _570 = 0; _570 < _6160.length; _570++)
			{
				let _6161;
				_6161 = _6160[_570];
				if (_6161.type != "radio")
					continue;
				if (_6161.name != "_391")
					continue;
				_6161.disabled = false;
			}
			_405._582(true);
			_399._582(true);
			
		}
		else
		{
			_385.disabled = true;
			_386._967(false);
			_387.disabled = true;
			_388.disabled = true;
			_389.disabled = true;
			_390.disabled = true;
			let _6160;
			_6160 = document.body.getElementsByTagName("input");
			for (let _570 = 0; _570 < _6160.length; _570++)
			{
				let _6161;
				_6161 = _6160[_570];
				if (_6161.type != "radio")
					continue;
				if (_6161.name != "_391")
					continue;
				_6161.disabled = true;
			}
			_405._582(false);
			_399._582(false);
			
		}
    }
	static _612(_582)
	{
		if (_6134._6135 == -1)
			return;
		if (typeof (_582) != "undefined")
			_6134._6158 = _582;
		else
			_582 = _6134._6158;
		_384.style.display = "inline-block";
		let _6162;
		_6162 = _6134._6155[_6134._6135];

		_385.value = _6162._1232;
		_386._693(_6162._5381);
		if (_6162._3289 == "long_duration" || _6162._3289 == "echo" || _6162._3289 == "start_sing" || _6162._3289 == "climax" || _6162._3289 == "beat")
		{
			_387.value = _6162._3289;
			_388.style.display = "none";
		}
		else
		{
			_387.value = "user_defined";
			_388.style.display = "";
			_388.value = _6162._3289;
		}
		if (_6162._6153 == "left")
		{
			_389.checked = true;
			_390.checked = false;
		}
		else
		{
			_389.checked = false;
			_390.checked = true;
		}

		{
			let _6161;
			_6161 = document.getElementById(_6162._391);
			_6161.checked = true;
			_6161.onclick();
		}
		if (_6162._391 == "user_edit")
		{
			let _6150;
			_6150 = _6162._6150;
			for (let _754 = 0; _754 < _6145._6146; _754++)
			{
				let _6163;
				_6163 = document.getElementById("_6163" + _754);
				_6163._1151(_6150._1291[_754]);
			}
			_402._837(_6150._984);
			_6134._6164(_582);
		}
		else
		{
			_405._1151(_6162._6151);
			_405._5677(_6162._6152);
		}
		_6134._6159(_582)
	}
	static _6165(_2200)
	{
		let _2090;
		let _2124;
		{
			let _1472;
			_1472 = _404.getBoundingClientRect();
			_2090 = _1472.width;
			_2124 = _1472.height;
		}
		let _5367;
		_5367 = "";
		function _6166(_2188, _6167)
		{
			let y;
			y = (_2188 + 1) * _1078._6168;
			let _5381;
			if (_6167)
				_5381 = "0 0 200 / 0.2";
			else
				_5381 = "200 0 200 / 0.2";
			_5367 += "<line x1='" + 0 + "' y1='" + y + "' x2='" + _2090 + "' y2='" + y + "' style='stroke:rgb(" + _5381 + ");stroke-width:1' />;\r\n";
		};
		_6166(0, true);
		_6166(1, false);
		_6166(2, true);
		_6166(3, false);
		_6166(4, true);
		
		_6166(6, true);
		_6166(7, false);
		_6166(8, true);
		_6166(9, false);
		_6166(10, true);
		_6166(11, false);
		_6166(12, true);
		
		_6166(14, true);
		_6166(15, false);
		_6166(16, true);
		_6166(17, false);
		_6166(18, true);
		
		_6166(20, true);
		_6166(21, false);
		_6166(22, true);
		_6166(23, false);
		_6166(24, true);
		_6166(25, false);
		_6166(26, true);
		return _5367;
    }
	static _6164(_582)
	{
		if (_6134._6135 == -1)
			return;
		if (typeof (_582) != "undefined")
			_6134._6158 = _582;
		else
			_582 = _6134._6158;
		let _6162;
		_6162 = _6134._6155[_6134._6135];
		let _6150;
		_6150 = _6162._6150;
		let _1681;
		_1681 = _6150._1681;
		let _5857;
		_5857=0;
		for(let _754=0;_754<_1681.length;_754++)
		{
			let _455;
			_455=_1681[_754];
			let _6169;
			_6169=_455._2299;
			_6169+=_455._1607;
			if(_6169>_5857)
				_5857=_6169;
		}
		let _6170;
		_6170=_5857+_6134._6157;
		_1075._6171(_6170);
		{
			let _2090
			_2090=_1075._6005(_6170);
			_404.style.width=Math.round(_2090)+"px";
		}
		let _5367;
		_5367 = _6134._6165(_6170);
		{
			let _2124;
			_2124 = _404.getBoundingClientRect().height;
			let x;
			x = _1075._6005(_6150._6147);
			_5367 += "<line x1='" + x + "' y1='0' x2='" + x + "' y2='" + _2124 + "' style='stroke:rgb(70 20 70 / 0.75);stroke-width:2;" + (_582?"cursor:e-resize;":"") +"' onmousedown='_6134._6243();' />\r\n";
		}
		for(let _6172=0;_6172<3;_6172++)
		{
			for(let _754=0;_754<_1681.length;_754++)
			{
				let _455;
				_455=_1681[_754];
				let _6173;
				_6173=true;
				if(_6134._6156!=-1)
					if(_455._6139!=_6134._6156)
						_6173=false;
				let _755,_756;
				_755=_1075._6005(_455._2299);
				_756=_1075._6005(_455._2299+_455._1607);
				let y;
				let _6174;
				{
					let _987;
					_987=new Object();
					_1078._6175(_987,_455._2188);
					_6174=_987._6174;
					y=_1078._6176(_987._2188);
				}
				let _5381=new Object();
				if(_6173)
					_6145._6148(_5381,_455._6139);
				else
				{
					_5381._1365=170;
					_5381._1366=170;
					_5381._1367=170;
				}
				let _1365,_1366,_1367;
				_1365=_5381._1365;
				_1366=_5381._1366;
				_1367=_5381._1367;
				_5381=_1365+" "+_1366+" "+_1367;
				let _6177,_6178;
				_6177=_755+8;
				_6178=_756-8;
				let _6179,_6180;
				_6179=y-8+1;
				_6180=y+7-1;
				let _6181,_6182;
				_6181=_6177+10+(_6178-(_6177+10))*_455._6140;
				_6182=_6180-4+(_6179-(_6180-4))*_455._6140;
				let _6183;
				_6183=(_1365*0.7)+" "+(_1366*0.7)+" "+(_1367*0.7);
				if((_6172==0&&_6173==false)||(_6172==1&&_6173==true))
				{
					let _6184;
					if(_6173)
						_6184="onmousedown='_6134._6209("+_754+");'";
					else
						_6184="";
					_5367 += "<rect id='_7638" + _754 + "' x='" + _755 + "' y='" + (y - 8) + "' width='" + (_756 - _755 + 1) + "' height='15' id='_7639" + _754 + "' style='fill:rgb( " + _5381 + " /0.1); stroke:rgb(" + _5381 + " ); stroke-width:1; " + (_582 ? "cursor:move;" : "") +"'  "+_6184+" />\r\n";
					if(_6173)
						_6184="onmousedown='_6134._6226("+_754+");'";
					else
						_6184="";
					_5367 += "<rect id='_7640" + _754 + "' x='" + _755 + "' y='" + (y - 8) + "' width='3' height='15' style='fill:rgb(" + _5381 + "); stroke:rgb(" + _5381 + "); stroke-width:1; " + (_582 ? "cursor:e-resize;" : "") +"'  "+_6184+" />\r\n";
					if(_6173)
						_6184="onmousedown='_6134._6201("+_754+");'";
					else
						_6184="";
					_5367 += "<rect id='_7641" + _754 + "' x='" + _756 + "' y='" + (y - 8) + "' width='3' height='15' style='fill:rgb(" + _5381 + "); stroke:rgb(" + _5381 + "); stroke-width:1; " + (_582 ? "cursor:e-resize;" : "") +"  '  "+_6184+" />\r\n";
					if(_6173)
					{
						function _6185(_6186,y)
						{
							for(let _979=0;_979<_6186;_979++)
							{
								let x;
								x=(_755+_756)/2;
								x+=(-(_6186-1)/2+_979)*6
								_5367+="<circle id='_7642"+_754+"_"+_979+"' cx='"+x+"' cy='"+y+"' r='2' style='fill:black; stroke:black; stroke-width:1;' />\r\n";
							}
						}
						if(_6174>0)
							_6185(_6174,y-8-2);
						else if(_6174<0)
							_6185(-_6174,y+8+2);
						_5367+="<line x1='"+_6177+"' y1='"+_6180+"' x2='"+_6181+"' y2='"+_6182+"' style='stroke:rgb("+_6183+");stroke-width:1;' />\r\n";
						_5367+="<line x1='"+_6181+"' y1='"+_6182+"' x2='"+(_6181-5)+"' y2='"+(_6182-1)+"' style='stroke:rgb("+_6183+");stroke-width:1;' />\r\n";
						_5367+="<line x1='"+_6181+"' y1='"+_6182+"' x2='"+(_6181-4)+"' y2='"+(_6182+3)+"' style='stroke:rgb("+_6183+");stroke-width:1;' />\r\n";
					}
				}
				else if(_6172==2&&_6173==true)
				{
					_5367 += "<rect id='_7643" + _754 + "' x='" + (_756 + 5) + "' y='" + (y - 3 - 4) + "' width='6' height='6' style='fill:rgb(0 0 0 /0.1); stroke:rgb(0 0 0 /0.3); stroke-width:1; " + (_582 ? "cursor:pointer;" : "") + "' onclick='_6134._6228("+_754+");' />\r\n";
					_5367 += "<rect id='_7644" + _754 + "' x='" + (_756 + 5) + "' y='" + (y - 3 + 4) + "' width='6' height='6' style='fill:rgb(0 0 0 /0.1); stroke:rgb(0 0 0 /0.3); stroke-width:1; " + (_582 ? "cursor:pointer;" : "") + "' onclick='_6134._6229("+_754+");' />\r\n";
					_5367 += "<circle id='_7645" + _754 + "' cx='" + (_756 + 16) + "' cy='" + y + "' r='4' style='fill:rgb(0 0 0 /0.1); stroke:rgb(0 0 0 /0.3); stroke-width:1; " + (_582 ? "cursor:s-resize;" : "") + "' onmousedown='_6134._6231("+_754+");' />\r\n";
				}
			}
		}
		_404.innerHTML = _5367;
	}
	static _590(_985)
	{
		
		let _6155 = _6134._6155;
		let _753;
		_753 = _6155.length;
		_985["musica_array_length"] = _753;
		for (let _754 = 0; _754 < _753; _754++)
			_6155[_754]._590(_985, "musica_" + _754);
	}
	static _587(_985)
	{
		let _6155 = _6134._6155;
		let _753;
		_753 = _985["musica_array_length"];
		if (typeof (_753) == "undefined")
			_753 = 0;
		else
			_753 = parseInt(_753);
		_6155.length = _753;
		for (let _754 = 0; _754 < _753; _754++)
		{
			let _6187 = new _6149();
			_6187._587("musica_" + _754, _985);
			_6155[_754] = _6187;
        }
	}
	static _6108()
	{
		if (_6134._6135 == -1)
			return;
		let _6188;
		_6188 = _6134._6155[_6134._6135];
		let _6189;
		_6189 = _402.value;
		if (_6188._391 == "user_edit")
		{
			if (!parent)
				return;
			let _6123;
			_6123 = new _1288();
			let _145;
			{
				let _417;
				_417 = parent._585;
				_145 = parent._584;
				if (_145 < 0 || _145 >= _417.length)
				{
					_145 = parent._1135;
					if (_145 < 0 || _145 >= _417.length)
						_145 = 0;
				}
				if (_145 < 0 || _145 >= _417.length)
					_145 = 88;
				else
					_145 = _417[_145]._1158;
			}
			_6123._1029(_145);
			let _6150;
			_6150 = _6188._6150;
			let _6190;
			_6190 = _6150._1291;
			let _6191;
			_6191 = _6150._1681;
			for (let _1578 = 0; _1578 < _6191.length; _1578++)
			{
				let _455;
				_455 = _6191[_1578];
				let _1291;
				_1291 = _6190[_455._6139];
				_6123._1290(_1291, _455._2188, _455._1607, _455._6140 * _6189, _455._2299);
			}
			parent._937(_6123._893);
		}
		else
		{
			_6109(_6188._6151);
        }
	}


	static _2097;
	static _2098;
	static _6192;
	static _1082(_839)
	{
		if (!_6134._6158)
			return;
		_581._1307();
		_6134._6192=_839;
		_839.title=L("拖动到歌谱控制器添加音符");
		_839.style.cursor="move";
		window.onmousemove=_6134._6193;
		window.onmouseup=_6134._6194;
		_839.style.position="relative";
		_839.ondragstart=function() {return false;};
		_6134._2097=event.clientX;
		_6134._2098=event.clientY;
	}
	static _6195()
	{
		let x,y;
		x=event.clientX;
		y=event.clientY;
		let _1472;
		_1472=_404.getBoundingClientRect();
		if(_1472.left<=x&&x<=_1472.right&&_1472.top<=y&&y<=_1472.bottom)
			return true;
		return false;
	}
	static _6193()
	{
		let x,y;
		x=event.clientX;
		y=event.clientY;
		if(_6134._6195())
			_6134._6192.style.cursor="crosshair";
		else
			_6134._6192.style.cursor="move";

		_6134._6192.style.left=(x-_6134._2097)+"px";
		_6134._6192.style.top=(y-_6134._2098)+"px";
	}
	static _6194()
	{
		if(_6134._6195())
		{
			let _455;
			_455=new _6138();
			let _1472;
			_1472=_404.getBoundingClientRect();
			let _2200;
			_2200=_1075._6032(event.clientX-_1472.left);
			_2200=Math.round(_2200/(1/4.0))/4;
			_455._2299=_2200-_455._1607/2;
			if(_455._2299<0)
				_455._2299=0;
			let _6196;
			_6196=_1075._6032(_1472.width);
			if(_455._2299+_455._1607>_6196)
				_455._2299-=(_455._2299+_455._1607-_6196);
			_455._2188=_1078._6197(event.clientY-_1472.top);
			_455._6139=_6134._6192.getAttribute("instrument_index");
			_455._6139 = parseInt(_455._6139);
			let _6188;
			_6188 = _6134._6155[_6134._6135];
			let _1681=_6188._6150._1681;
			_1681.push(_455);
			_6134._6164();
			
		}
		_6134._6192.style.cursor="hand";
		window.onmousemove=null;
		window.onmouseup=null;
		_6134._6192.style.position="relative";
		_6134._6192.style.left="0px";
		_6134._6192.style.top="0px";
		_6134._6192.ondragstart=null;
		_6134._6192=null;
	}

	static _5444=0;
	static _5445=0;
	static _6198=0;
	static _6199=0;
	static _6200=0;
	static _6201(_6202)
	{
		if (!_6134._6158)
			return;
		let _6188;
		_6188 = _6134._6155[_6134._6135];
		let _1681;
		_1681=_6188._6150._1681;
		if(_6202<0||_6202>=_1681.length)
			return;
		_581._1307();
		_6134._6200=_6202;
		_6134._6198=_1681[_6202]._1607;
		_6134._6199=event.clientX;
		let _6203;
		_6203=_1075._6005(_6134._6198);
		_6134._5444=_6134._6199-_6203+_1075._6005(1/8.);
		_6134._5445=_6134._6199+_1075._6005(_6134._6157);
		window.onmousemove=_6134._6204;
		window.onmouseup=_6134._6205;
	}
	static _6204()
	{
		let _6188;
		_6188 = _6134._6155[_6134._6135];
		let _1681;
		_1681=_6188._6150._1681;
		let _5466;
		_5466=event.clientX;
		if(_5466<_6134._5444)
			_5466=_6134._5444;
		if(_5466>_6134._5445)
			_5466=_6134._5445;
		let _2306;
		_2306=_1681[_6134._6200];
		let _6038;
		_6038=_2306._1607;
		let _5479;
		_5479=_5466-_6134._6199;
		_5479=_1075._6032(_5479);
		_5479*=8;
		let _1618;
		if(event.ctrlKey)
			_1618=1;
		else
			_1618=2;
		_5479=Math.round(_5479/_1618)*_1618;
		_5479/=8;
		_2306._1607=_6134._6198+_5479;
		if(_6038==_2306._1607)
			return;
		_6134._6164();
		
	}
	static _6205()
	{
		window.onmousemove=null;
		window.onmouseup=null;
	}

	static _6206(_6173)
	{
		function _6207(x)
		{
			if(x)
				x.style.display=_6173? "":"none";
		};
		_6207(document.getElementById("_7638"+_6134._6200));
		_6207(document.getElementById("_7640"+_6134._6200));
		_6207(document.getElementById("_7641"+_6134._6200));
		_6207(document.getElementById("_7646"+_6134._6200+"_0"));
		_6207(document.getElementById("_7646"+_6134._6200+"_1"));
		_6207(document.getElementById("_7646"+_6134._6200+"_2"));
		_6207(document.getElementById("_7646"+_6134._6200+"_3"));
		_6207(document.getElementById("_7643"+_6134._6200));
		_6207(document.getElementById("_7644"+_6134._6200));
		_6207(document.getElementById("_7645"+_6134._6200));
	}
	static _6208()
	{
		let x,y;
		x=event.clientX;
		y=event.clientY;
		let _1472=_403.getBoundingClientRect();
		if(_1472.left<=x&&x<=_1472.right&&_1472.top<=y&&y<=_1472.bottom)
			return true;
		return false;
	}
	static _6209(_6202)
	{
		if (!_6134._6158)
			return;
		let _6188;
		_6188 = _6134._6155[_6134._6135];
		let _1681;
		_1681=_6188._6150._1681;
		if(_6202<0||_6202>=_1681.length)
			return;
		_581._1307();
		_6134._6210(_6202);
		_6134._6211(_6202);
		window.onmousemove=_6134._6212;
		window.onmouseup=_6134._6213;
		_403.style.visibility="visible";
	}
	static _6212()
	{
		if(_6134._6208())
		{
			if(!_403._6214)
			{
				_403._6214=_403.style.backgroundColor;
				_403.style.backgroundColor="rgb(255 100 100 / 0.2)";
				_6134._6206(false);
			}
			return;
		}
		if(_403._6214)
		{
			_403.style.backgroundColor=_403._6214;
			_403._6214=null;
			_6134._6206(true);
		}
		_6134._6215();
		_6134._6216();
	}
	static _6213()
	{
		if(_403._6214)
		{
			_403.style.backgroundColor=_403._6214;
			_403._6214=null;
		}
		_403.style.visibility="hidden";
		if(_6134._6208())
		{
			let _6188;
			_6188 = _6134._6155[_6134._6135];
			let _1681;
			_1681=_6188._6150._1681;
			_1681.splice(_6134._6200,1);
			_6134._6164();
			
		}
		else
		{
			_6134._6206(true);
		}
		_6134._6205();
	}

	static _6217=0;
	static _6218=0;
	static _6219=0;
	static _6220=0;
	static _6221=0;
	static _6222=0;
	static _6211(_6202)
	{
		if (!_6134._6158)
			return;
		let _6188;
		_6188 = _6134._6155[_6134._6135];
		let _1681;
		_1681=_6188._6150._1681;
		if(_6202<0||_6202>=_1681.length)
			return;
		let _1472;
		_1472=_404.getBoundingClientRect();
		_6134._6217=_1472.top;
		_6134._6218=_1472.bottom;
		
		_6134._6200=_6202;
		_6134._6219=_1681[_6202]._2188;
		{
			let _987;
			_987=new Object();
			_1078._6175(_987,_6134._6219);
			_6134._6220=_987._6174;
			_6134._6221=_1078._6176(_987._2188);
		}
		_6134._6222=event.clientY;
		
		
	}
	static _6216()
	{
		let _6188;
		_6188 = _6134._6155[_6134._6135];
		let _1681;
		_1681=_6188._6150._1681;
		let _5486;
		_5486=event.clientY-_6134._6222;
		_5486+=_6134._6221;
		let _2306;
		_2306=_1681[_6134._6200];
		let _6223;
		_6223=_2306._2188;
		let _6224;
		_6224=_1078._6197(_5486);
		_6224+=_6134._6220*12;
		if(_6223==_6224)
			return;
		_2306._2188=_6224;
		_6134._6164();
		
	}


	static _6225=0;
	static _6210(_6202)
	{
		if (!_6134._6158)
			return;
		let _6188;
		_6188 = _6134._6155[_6134._6135];
		let _1681;
		_1681=_6188._6150._1681;
		if(_6202<0||_6202>=_1681.length)
			return;
		
		_6134._6200=_6202;
		_6134._6225=_1681[_6202]._2299;
		_6134._6199=event.clientX;
		_6134._5444=_6134._6199-_1075._6005(_6134._6157);
		if(_6134._5444<0)
			_6134._5444=0;
		_6134._5445=_6134._6199+_1075._6005(_6134._6157);
		
		
	}
	static _6215()
	{
		let _6188;
		_6188 = _6134._6155[_6134._6135];
		let _1681;
		_1681=_6188._6150._1681;
		let _5466;
		_5466=event.clientX;
		if(_5466<_6134._5444)
			_5466=_6134._5444;
		if(_5466>_6134._5445)
			_5466=_6134._5445;
		let _2306;
		_2306=_1681[_6134._6200];
		let _6038;
		_6038=_2306._2299;
		let _5479;
		_5479=_5466-_6134._6199;
		_5479=_1075._6032(_5479);
		_5479*=8;
		let _1618;
		if(event.ctrlKey)
			_1618=1;
		else
			_1618=2;
		_5479=Math.round(_5479/_1618)*_1618;
		_5479/=8;
		_2306._2299=_6134._6225+_5479;
		if(_2306._2299<0)
			_2306._2299=0;
		if(_6038==_2306._2299)
			return;
		_6134._6164();
		
	}



	static _6226(_6202)
	{
		if (!_6134._6158)
			return;
		let _6188;
		_6188 = _6134._6155[_6134._6135];
		let _1681;
		_1681=_6188._6150._1681;
		if(_6202<0||_6202>=_1681.length)
			return;
		_581._1307();
		_6134._6200=_6202;
		let _455;
		_455=_1681[_6202];
		_6134._6225=_455._2299;
		_6134._6198=_455._1607;
		_6134._6199=event.clientX;
		let _6203;
		_6203=_1075._6005(_6134._6198);
		_6134._5444=_6134._6199-_1075._6005(_6134._6157);
		if(_6134._5444<0)
			_6134._5444=0;
		_6134._5445=_6134._6199+_6203-_1075._6005(1/8.);
		window.onmousemove=_6134._6227;
		window.onmouseup=_6134._6205;
	}
	static _6227()
	{
		let _6188;
		_6188 = _6134._6155[_6134._6135];
		let _1681;
		_1681=_6188._6150._1681;
		let _5466;
		_5466=event.clientX;
		if(_5466<_6134._5444)
			_5466=_6134._5444;
		if(_5466>_6134._5445)
			_5466=_6134._5445;
		let _2306;
		_2306=_1681[_6134._6200];
		let _6038;
		_6038=_2306._2299;
		let _5479;
		_5479=_5466-_6134._6199;
		_5479=_1075._6032(_5479);
		_5479*=8;
		let _1618;
		if(event.ctrlKey)
			_1618=1;
		else
			_1618=2;
		_5479=Math.round(_5479/_1618)*_1618;
		_5479/=8;
		_2306._2299=_6134._6225+_5479;
		if(_2306._2299<0)
			_2306._2299=0;
		_2306._1607=_6134._6198+(_6134._6225-_2306._2299);
		if(_2306._1607<=0)
		{
			if(event.ctrlKey)
				_2306._1607=1/8;
			else
				_2306._1607=1/4;
			_2306._2299=_6134._6225+_6134._6198-_2306._1607;
		}
		if(_6038==_2306._2299)
			return;
		_6134._6164();
		
	}

	static _6228(_754)
	{
		let _6188;
		_6188 = _6134._6155[_6134._6135];
		let _1681;
		_1681=_6188._6150._1681;
		if(_754<0||_754>=_1681.length)
			return;
		let _455;
		_455=_1681[_754];
		_455._2188+=12;
		if(_455._2188>127)
			_455._2188=127;
		_6134._6164();
	}
	static _6229(_754)
	{
		let _6188;
		_6188 = _6134._6155[_6134._6135];
		let _1681;
		_1681=_6188._6150._1681;
		if(_754<0||_754>=_1681.length)
			return;
		let _455;
		_455=_1681[_754];
		_455._2188-=12;
		if(_455._2188<=0)
			_455._2188=1;
		_6134._6164();
	}


	static _6230=0;
	static _6231(_6202)
	{
		if (!_6134._6158)
			return;
		let _6188;
		_6188 = _6134._6155[_6134._6135];
		let _1681;
		_1681=_6188._6150._1681;
		if(_6202<0||_6202>=_1681.length)
			return;
		_581._1307();
		_6134._6200=_6202;
		_6134._6230=_1681[_6202]._6140;
		_6134._6222=event.clientY;
		window.onmousemove=_6134._6232;
		window.onmouseup=_6134._6205;
	}
	static _6232()
	{
		let _6188;
		_6188 = _6134._6155[_6134._6135];
		let _1681;
		_1681=_6188._6150._1681;
		let _5486;
		_5486=event.clientY-_6134._6222;
		let _2306;
		_2306=_1681[_6134._6200];
		let _6233;
		_6233=_2306._6140;
		let _1472;
		_1472=_404.getBoundingClientRect();
		let _6234;
		_6234=_6134._6230-_5486*2/_1472.height;
		if(_6234>1)
			_6234=1;
		if(_6234<0)
			_6234=0;
		if(_6233==_6234)
			return;
		_2306._6140=_6234;
		_6134._6164();
		
	}
	static _6235()
	{
		if(!parent)
			return;
		let _6236;
		_6236 = _6134._6135;
		if (_6236 == -1)
			return;
		function _822(_784)
		{
			let _6188;
			_6188 = _6134._6155[_6236];
			let _1251=new Object();
			_6188._590(_1251,"clipboard");
			_1251=JSON.stringify(_1251);
			for(let _635=0;_635<2;_635++)
			{
				if(_635==0)
					_784._636();
				else
					_784._637();
				_784._638("arrange");
				_784._638(_1251);
			}
		}
		parent._6237("clipboard",_822);
	}
	static _6238()
	{
		if(!parent)
			return;
		let _6236;
		_6236 = _6134._6135;
		if (_6236 == -1)
			return;
		function _822(_784)
		{
			let _6188;
			_6188 = _6134._6155[_6236];
			let _1267;
			_1267=_784._792();
			if(_1267!="arrange")
				return;
			_1267=_784._792();
			let _1251;
			_1251=JSON.parse(_1267);
			_6188._587("clipboard", _1251);
			_6188._1232 += L("的拷贝");
			
			_6136();
			if (_6134._6135 != -1)
				_6239(_6134._6135,false)
		}
		parent._6240("clipboard",_822);
	}

	static _6241(_754)
	{
		_6134._6156 = _754;
		if (_754 == -1)
			_400.style.display = "none";
		else
			_400.style.display = "";
		_6134._6164();
	}

	static _6242=0;
	static _6243()
	{
		if (!_6134._6158)
			return;
		let _6188;
		_6188 = _6134._6155[_6134._6135];
		_581._1307();
		_6134._6242 = _6188._6150._6147;
		_6134._6199=event.clientX;
		_6134._5444=0;
		_6134._5445=_6134._6199+_1075._6005(_6134._6157);
		window.onmousemove = _6134._6244;
		window.onmouseup = _6134._6245;
	}
	static _6244()
	{
		let _6188;
		_6188 = _6134._6155[_6134._6135];
		let _5466;
		_5466=event.clientX;
		if(_5466<_6134._5444)
			_5466=_6134._5444;
		if(_5466>_6134._5445)
			_5466=_6134._5445;
		let _6038;
		_6038 = _6188._6150._6147;
		let _5479;
		_5479=_5466-_6134._6199;
		_5479=_1075._6032(_5479);
		_5479*=8;
		let _1618;
		if(event.ctrlKey)
			_1618=1;
		else
			_1618=2;
		_5479=Math.round(_5479/_1618)*_1618;
		_5479/=8;
		let _2107;
		_2107=_6134._6242+_5479;
		if(_2107==_6038)
			return;
		if (_6188._6150._6147 ==_2107&&_2107!=0)
			return;
		_6188._6150._6147 =_2107;
		_6134._6164();
		
	}
	static _6245()
	{
		let _6188;
		_6188 = _6134._6155[_6134._6135];
		if(_6188._6150._6246>_6188._6150._6247)
		{
			let _2799;
			_2799=_6188._6150._6246;
			_6188._6150._6246=_6188._6150._6247;
			_6188._6150._6247=_2799;
			_6134._6164();
		}
		_6134._6205();
	}

}
function _1865()
{
	return _6134._6155;
}
function _602(_1232)
{
	let _6155;
	_6155 = _6134._6155;
	for (let _754 = 0; _754 < _6155.length; _754++)
	{
		let _443 = _6155[_754];
		if (_443._1232 == _1232)
			return _443;
    }
	return null;
}

