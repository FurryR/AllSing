class _2331
{
	static _2512(_2055,_1983,_2057)
	{
		let _2151;
		_2151=0x3c;
		if(_2513(L("高潮部分提高基础音")))
			if(_2189._1880(_2055,_1983))
				_2151+=2;
		if(_2513(L("小节内，第一句基础音高，第二句基础音低")))
		{
			if((_2514%2)==0)
				_2151+=2;
			else
				_2151-=1;
		}
		return _2151;
	}
	static _2515(_2055,_1983,_2057)
	{
		if(_2513(L("小节内，音高差值逐渐增加")))
		{
			if(_2514==0)
				return 4;
			else if(_2514==1)
				return 5;
			else if(_2514==2)
				return 6;
			else
				return 7;
		}
		else
			return 5;
	}
	static _2516(_2056,_2151,_2152,_1983,_2057)
	{
		let _2517;
		_2517=0;
		{
			let _2518;
			_2518=_2056._2519;
			if(_2518._2520!="not_used")
				_2517=_2518._2521-_2518._2522+1;
		}
		let _2523;
		_2523=_2189._2523(_2056);
		let _2524;
		_2524=_2056._2519;
		let _2525;
		_2525=_2189._2525(0);
		let _2526;
		_2526=_2525._1192-_2525._2299+1;
		if(_2526<=3&&_2056.length-_2526-_2517>=4)
		{
			_2524._2520="head_phrase"
			_2524._2522=_2525._2299;
			_2524._2521=_2525._1192;
			_2056._2527=true;
		}
		else
		{
			let _2394;
			_2394=_2189._2394(0);
			let _2528;
			_2528=_2394._1192-_2394._2299+1;
			if(_2528<=3)
			{
				let _2529;
				_2529=_2526-_2528;
				if(_2523==1)
					_2529-=_2517;
				let _2530;
				_2530=_2056.length-_2528;
				_2530-=_2517;
				if((_2529>=3&&_2523>1)||_2530>=4)
				{
					_2524._2520="head_phrase"
					_2524._2522=_2394._2299;
					_2524._2521=_2394._1192;
					_2056._2527=false;
				}
			}
		}
	}
	static _2531(_2056,_2151,_2152,_1983,_2057)
	{
		let _2524;
		_2524=_2056._2532;
		let _2523;
		_2523=_2189._2533(_2056);
		let _2525;
		_2525=_2189._2534(_2523-1);
		let _2526;
		_2526=_2525._1192-_2525._2299+1;
		if(_2526<=3&&_2056.length-_2526>=4)
		{
			_2524._2520="tail_phrase"
			let _2535;
			_2535=_2189._2536(_2056);
			_2524._2522=_2525._2299+_2535;
			_2524._2521=_2525._1192+_2535;
			_2056._2537=true;
		}
		else
		{
			let _2161;
			_2161=_2189._2538(_2056);
			let _2394;
			_2394=_2189._2539(_2161-1);
			let _2528;
			_2528=_2394._1192-_2394._2299+1;
			if(_2528<=3)
			{
				let _2529;
				_2529=_2526-_2528;
				let _2530;
				_2530=_2056.length-_2528;
				if((_2529>=3&&_2523>1)||_2530>=4)
				{
					_2524._2520="tail_phrase"
					_2524._2522=_2394._2299;
					_2524._2521=_2394._1192;
					_2056._2537=false;
				}
			}
		}
	}
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	static _2540(_2056,_1983,_2057)
	{
		let _987;
		_987=null;
		
		
		
		
		if(_987==null&&_2513(L("上行倒数第二个音加快，下行第一个音加快")))
			_987=_2541._2542(_2056);
		if(_987==null&&_2513(L("上行下行太长的句子隔开")))
			_987=_2541._2543(_2056);
		return _987;
	}
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	static _1626(_2055)
	{
		let _987;
		_987=true;
		let _2401;
		_2401=_2189._2401(_2055);
		for(let _2403=0; _2403 < _2401; _2403++)
		{
			let _2502, _2503;
			[_2502, _2503] = _2189._2402(_2055, _2403);
			let _2058;
			_2058 = _2503 - _2502 + 1;
			for(let _1983 = _2502; _1983 <= _2503; _1983++)
			{
				let _2057;
				_2057 = _1983-_2502;
				let _2056;
				_2056=_2055[_1983];
				let _2151;
				let _2152;
				{
					let _2433;
					_2433 = _2189._2374(_2055, _1983);
					let _2544, _2545;
					_2544 = _2433;
					_2545 = _2433;
					_2151 = 0x3c + _581._761(-5, 4, 0, 1, _2544);
					_2152 = _581._761(5, 9, 0, 1, _2545);
				}
				let _2153;
				_2153 = _2074._1626(_2055, _2056, _2151, _2152, _1983, _2057, _2058);
				if (_2153 == null)
					if (_2056._1138._2546 == F("句子开头两次上行"))
						_2547._2548(F("句子开头两次上行"))._2549(_2055, _2056, _1983, _2057, _2058);
				if (_2153 == null)
					if (_2056._1138._2550 == F("句子结尾两次下行"))
						_2547._2548(F("句子结尾两次下行"))._2549(_2055, _2056, _1983, _2057, _2058);
				if (_2153 == null)
					_2153 = _2551._1626(_2055, _2056, _1983, _2057, _2058);
				if (_2153 == null)
					_2153 = _2552._1626(_2055, _2056, _1983, _2057, _2058);
				if (_2153 == null)
					_2153 = _2054._1626(_2055, _2056, _1983, _2057, _2058)
				if (_2153 == null)
					_2153 = _2547._1626(_2055, _2056, _1983, _2057, _2058);
				
				if(_2153!=null)
				{
					_987=false;
					_2056._2275=_2153;
				}
				
				
			}
		}
		return _987;
	}
}

